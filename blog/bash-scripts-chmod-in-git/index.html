<!doctype html><html class=no-js><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=HandheldFriendly content=True><meta name=MobileOptimized content=320><meta name=viewport content="width=device-width,initial-scale=1"><title>Retaining chmod permissions for scripts in git repositories üî¥ Jonifen üë®‚Äçüíª</title><link rel=preload href=/css/jonifen.min.css as=style><link rel=preload href=/js/header-bar.min.js as=script><link rel=preload href=/fonts/OpenSansNormal400.woff2 as=font type=font/woff2 crossorigin=anonymous><meta property=og:site_name content="Jonifen üë®‚Äçüíª"><meta property=og:title content="Retaining chmod permissions for scripts in git repositories"><meta name=description content><meta property=og:description content><meta property=og:image:secure_url imageprop=image content=https://jonifen.co.uk/images/og-avatar.png><meta property=og:type content=website><link rel=stylesheet href=/css/jonifen.min.css><script src=/js/header-bar.min.js async></script></head><body><header id=header><div class=container><div class=heading><a href=/>jonifen</a></div><ul class=nav><li class=nav-item><a href=/blog/ alt=Blog title=Blog><span>Blog</span></a></li><li class=nav-item><a href=/notes/ alt=Notes title=Notes><span>Notes</span></a></li><li class=nav-item><a href=/projects/ alt=Projects title=Projects><span>Projects</span></a></li><li class=nav-item><a href=/about/ alt=About title=About><span>About</span></a></li></ul></div></header><div class=page-content><div class=post-header><div class=container><div class=content><h2>Retaining chmod permissions for scripts in git repositories</h2><div class=post-details><small>Reading time: ~1 minutes (154 words)</small></div><div class=post-meta-details><div class=date><small><time datetime=2019-05-01>1 May, 2019</time></small></div><div class=tags><a href=/tags/programming class=tag>programming</a>
<a href=/tags/sourcecontrol class=tag>sourcecontrol</a></div></div></div></div></div><div class=container><div class=content><p>Our continuous delivery setup at work requires that we use bash scripts for builds that can be handled by Linux machines.</p><p>The main issue is when we create a new project, we often get &ldquo;Permission Denied&rdquo; errors when the CI system runs the scripts on the build agents. Usually, you&rsquo;d just run <code>chmod</code> on a machine and try again, but this doesn&rsquo;t work when the files are being pushed into a git repository, and then pulled at the other side.</p><p>To fix it, you&rsquo;d run the following command:</p><pre><code>git update-index --chmod=+x your_bash_script.sh
</code></pre><p>Commit and push the changes into the remote repo and the next time you run the pipeline, everything should be sorted.</p><p>Normally, this is something that could be easily remembered, but we create these new repos quite rarely, so I usually forget the full command by the next time :)</p><p>The git documentation provides more information on the <code>update-index</code> command here: <a href=https://www.git-scm.com/docs/git-update-index>https://www.git-scm.com/docs/git-update-index</a></p></div></div><footer><div class=container><small><a href=https://jonifen.co.uk>jonifen.co.uk</a> - Created using <a href=https://gohugo.io>Hugo</a></small></div></footer></div></body></html>