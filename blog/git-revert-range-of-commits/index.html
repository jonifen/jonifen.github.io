<!doctype html><html class=no-js><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=HandheldFriendly content=True><meta name=MobileOptimized content=320><meta name=viewport content="width=device-width,initial-scale=1"><title>Revert a range of commits in a Git repository üî¥ Jonifen üë®‚Äçüíª</title><link rel=preload href=/css/jonifen.min.css as=style><link rel=preload href=/js/header-bar.min.js as=script><link rel=preload href=/fonts/OpenSansNormal400.woff2 as=font type=font/woff2 crossorigin=anonymous><meta property=og:site_name content="Jonifen üë®‚Äçüíª"><meta property=og:title content="Revert a range of commits in a Git repository"><meta name=description content="Have you ever had one of those days when you've been hard at work on a repository, making small and regular commits to the repository during the day only to decide that it wasn't the way you wanted to go..."><meta property=og:description content="Have you ever had one of those days when you've been hard at work on a repository, making small and regular commits to the repository during the day only to decide that it wasn't the way you wanted to go..."><meta property=og:image:secure_url imageprop=image content=https://jonifen.co.uk/images/og-avatar.png><meta property=og:type content=website><link rel=stylesheet href=/css/jonifen.min.css><script src=/js/header-bar.min.js async></script></head><body><header id=header><div class=container><div class=heading><a href=/>jonifen</a></div><ul class=nav><li class=nav-item><a href=/ alt=Home title=Home><span>Home</span></a></li><li class=nav-item><a href=/blog/ alt=Blog title=Blog><span>Blog</span></a></li><li class=nav-item><a href=/projects/ alt=Projects title=Projects><span>Projects</span></a></li><li class=nav-item><a href=/about/ alt=About title=About><span>About</span></a></li></ul></div></header><div class=page-content><div class=post-header><div class=container><div class=content><h2>Revert a range of commits in a Git repository</h2><div class=post-details><small>Reading time: ~2 minutes (318 words)</small></div><div class=post-meta-details><div class=date><small><time datetime=2019-06-21>21 Jun, 2019</time></small></div><div class=tags><a href=/tags/programming class=tag>programming</a>
<a href=/tags/sourcecontrol class=tag>sourcecontrol</a>
<a href=/tags/git class=tag>git</a></div></div></div></div></div><div class=container><div class=content><p>Have you ever had one of those days when you&rsquo;ve been hard at work on a repository, making small and regular commits to the repository during the day only to decide that it wasn&rsquo;t the way you wanted to go? So how do you get back to where you were at the beginning of the day?</p><p>Well, you could just revert each commit one-by-one, but what if your commit history is like this? (disclaimer: all commit messages are just junk for the sake of this example. I mean, who would commit a repo with failing tests? ahem!)</p><pre><code>abcdef09 fix typo in copy displayed to user
abcdef08 make tests pass
abcdef07 add tests for yet another feature
abcdef06 update config with correct api url
abcdef05 add infrastructure changes to support new feature
abcdef04 make next test pass
abcdef03 add next feature test
abcdef02 make the test pass
abcdef01 add test for new feature (first commit of the day!)
abcdef00 last commit of yesterday - everything works a dream here!
</code></pre><p>So, as mentioned before, you could go down the path of <a href=/blog/post/2019/git-revert-without-commit/>one of my previous posts</a> by reverting each commit with <code>--no-commit</code> and then push all the reverts in one go, but I found out today, that Git has got a feature for this exact purpose!</p><pre><code>git revert {oldest_commit}^..{newest_commit}

i.e.

git revert abcdef01^..abcdef09
</code></pre><p>So this command works on the basis of specifying a range of commits, so it&rsquo;ll revert all commits between the two hashes.</p><p>Ah, but what if a colleague has committed something (unrelated to your work in progress) in the middle? Well, you&rsquo;d have to get creative here and revert them in 2 ranges (either side of your colleague&rsquo;s commit). Unless anyone else has a better idea?</p><p>Please get in touch if there is a better way! Alternatively, you could offer it up as a pull request on <a href=https://github.com/jonifen/jonifen-web/>my blog repository</a>. I&rsquo;ll always give credit where it&rsquo;s due.</p></div></div><footer><div class=container><small><a href=https://jonifen.co.uk>jonifen.co.uk</a> - Created using <a href=https://gohugo.io>Hugo</a></small></div></footer></div></body></html>